#!/bin/bash
#
# Pre-commit hook that runs sanity check using Claude Haiku subagent
# Install: ln -sf ../../.githooks/pre-commit .git/hooks/pre-commit
#

echo "🔍 Running pre-commit sanity check..."

# Run the Python sanity check script
python3 scripts/pre-commit-sanity-check.py

exit_code=$?

if [ $exit_code -ne 0 ]; then
    echo ""
    echo "💡 TIP: To bypass this check (NOT recommended): git commit --no-verify"
    echo "💡 TIP: To fix automatically detected issues, run the suggested commands above"
fi

exit $exit_code